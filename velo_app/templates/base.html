{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="{% static 'flash.png' %}">
    <title>{% block title %}{% endblock title %}</title>
        <script src="https://cdn.tailwindcss.com"></script> 
    </head>
    <body class="bg-[#121212] text-white font-sans">
        <div class="flex">
        <div class="w-64 bg-[#1e1e1e] flex flex-col justify-between p-6">
            <div>
                <div class="flex items-center space-x-2 mb-10">
                    <svg class="h-8 w-8 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                    <span class="text-xl font-bold">Fitness Tracker</span>
                </div>
                <nav>
                    <ul>
                        <li class="mb-4 hover:bg-gray-700 rounded-lg">
                            <a href="{% url 'home' %}" class="flex items-center space-x-3 text-gray-400 hover:text-white transition-colors duration-200">
                                <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                                </svg>
                                <span>Home</span>
                            </a>
                        </li>
                        <li class="mb-4 hover:bg-gray-700 rounded-lg">
                            <a href="{% url 'dashboard' %}" class="flex items-center space-x-3 text-gray-400 hover:text-white transition-colors duration-200">
                                <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8z"></path>
                                </svg>
                                <span>Dashboard</span>
                            </a>
                        </li>
                        <li class="mb-4 hover:bg-gray-700 rounded-lg">
                            <a href="#" class="flex items-center space-x-3 text-gray-400 hover:text-white transition-colors duration-200">
                                <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                                </svg>
                                <span>Activities</span>
                            </a>
                        </li>
                        <li class="mb-4 hover:bg-gray-700 rounded-lg">
                            <a href="#" class="flex items-center space-x-3 text-gray-400 hover:text-white transition-colors duration-200">
                                <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8v8m-4-2v2m-4-6v6M4 20h16a2 2 0 002-2V6a2 2 0 00-2-2H4a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                </svg>
                                <span>Analytics</span>
                            </a>
                        </li>
                        <li class="mb-4 hover:bg-gray-700 rounded-lg">
                            <a href="#" class="flex items-center space-x-3 text-gray-400 hover:text-white transition-colors duration-200">
                                <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0L6.59 16.59a2 2 0 002.828 2.828l1.414-1.414m-5.656-5.656a4 4 0 015.656 0l1.414 1.414m-7.072 7.072l7.072-7.072M16.58 6.58a2 2 0 00-2.828-2.828l-1.414 1.414m5.656 5.656a4 4 0 01-5.656 0L6.59 16.59m7.072-7.072L6.59 16.59"></path>
                                </svg>
                                <span>Challenges</span>
                            </a>
                        </li>
                        <li class="mb-4 hover:bg-gray-700 rounded-lg">
                            <a href="#" class="flex items-center space-x-3 text-gray-400 hover:text-white transition-colors duration-200">
                                <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.484 9.332 5 7.828 5a2.25 2.25 0 00-2.24 2.24m4.47-4.47l-1.41 1.41m2.82-2.82l-1.41 1.41M12 6.253V19.25m0-13C13.168 5.484 14.668 5 16.172 5a2.25 2.25 0 012.24 2.24m-4.47-4.47l1.41 1.41m-2.82-2.82l1.41 1.41"></path>
                                </svg>
                                <span>Training</span>
                            </a>
                        </li>
                        <li class="mb-4 hover:bg-gray-700 rounded-lg">
                            <a href="{% url 'about' %}" class="flex items-center space-x-3 text-gray-400 hover:text-white transition-colors duration-200">
                                <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span>About</span>
                            </a>
                        </li>
                    </ul>
                </nav>
                <div class="flex items-center space-x-3 p-3 bg-gray-800 rounded-lg">
                <div class="relative">
                    <a href="{% url 'profile' %}" class="hover:text-gray-400">
                        {% if profile.profile_picture %}
              <img class="h-32 w-32 rounded-full object-cover border-4 border-white shadow" 
                   src="{{ profile.profile_picture.url }}" 
                   alt="{{ user.username }} profile picture">
            {% else %}
              <div class="bg-gray-200 border-2 border-dashed rounded-full w-10 h-10 flex items-center justify-center">
                <span class="text-gray-500 text-3xl">{{ user.username|first|upper }}</span>
              </div>
            {% endif %}

                </div>
                <div>
                    <span class="block text-sm font-semibold">
                        {{ user.username }}
                    </span>
                </div>
            </a>
            <svg class="h-5 w-5 text-gray-400 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
            </div>
            </div>
        </div>
      {% block content %}{% endblock %}
    </div>
    {% include 'footer.html' %}
      <script>
        document.addEventListener('DOMContentLoaded', function() {
            const messageContainer = document.getElementById('message-container');
            if (messageContainer) {
                // Get all individual message divs within the container
                const messages = messageContainer.querySelectorAll('[role="alert"]');

                messages.forEach(message => {
                    // Set a timeout to start the fade-out
                    setTimeout(() => {
                        message.style.opacity = '0'; // Start CSS transition for fade-out
                        // After the transition, remove the element from the DOM
                        message.addEventListener('transitionend', function() {
                            message.remove();
                        }, { once: true }); // Ensure listener runs only once
                    }, 5000); // 5 seconds
                });
            }
        });
    </script>
    </body>
</html>